var k=Object.defineProperty,B=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var y=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var V=(u,o,r)=>o in u?k(u,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[o]=r,f=(u,o)=>{for(var r in o||(o={}))L.call(o,r)&&V(u,r,o[r]);if(y)for(var r of y(o))R.call(o,r)&&V(u,r,o[r]);return u},b=(u,o)=>B(u,D(o));import{e as C,m as w,T as p,a as c,o as I,A as j,w as d,n as x,g as n,u as s,x as m,_ as G,D as A,a1 as U,c as M}from"./vendor.52e9d3a7.js";const P=x("h3",null,"Create Customer",-1),$={class:"grid grid-cols-2 gap-5 w-full place-items-stretch"},q=U("Submit"),F=U("Close"),K={setup(u){const o=C(!0),r=w("base"),t=C({customer_name:"",mobile_no:"",email_id:"",gender:"",customer_type:"Individual",customer_group:"",territory:"",posa_referral_company:r.pos_profile.company,gst_category:"Unregistered"}),z=p({doctype:"Gender",fields:["name"],pageLength:10,auto:!0,transform:a=>a.map(e=>e.name)}),E=p({doctype:"Territory",fields:["name"],filters:{is_group:0},pageLength:5e3,orderBy:"name",auto:!0,transform:a=>a.map(e=>e.name)}),N=p({doctype:"Customer Group",fields:["name"],filters:{is_group:0},pageLength:1e3,orderBy:"name",auto:!0,transform:a=>a.map(e=>e.name)}),O=c(()=>z.data||[]),S=c(()=>N.data||[]),T=c(()=>E.data||[]),i=()=>{o.value=!1},h=()=>{M({method:"POST",url:"/api/resource/Customer",auto:!0,makeParams(){var a,e,l,g,_,v;return{data:b(f({},t.value),{gender:(e=(a=t.value.gender)==null?void 0:a.value)!=null?e:null,customer_group:(g=(l=t.value.customer_group)==null?void 0:l.value)!=null?g:null,territory:(v=(_=t.value.territory)==null?void 0:_.value)!=null?v:null})}},onSuccess(a){console.log(a,"Customer Created:"),i()},onError(a){console.error("Error:",a)}})};return(a,e)=>(I(),j(s(A),{options:{size:"2xl"},modelValue:o.value,"onUpdate:modelValue":e[6]||(e[6]=l=>o.value=l),onClose:i,onAfterLeave:i},{"body-title":d(()=>[P]),"body-content":d(()=>[x("div",$,[n(s(m),{type:"text",label:"Customer Name",modelValue:t.value.customer_name,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.customer_name=l),placeholder:"Enter Customer Name",size:"sm"},null,8,["modelValue"]),n(s(m),{type:"text",label:"Mobile Number",modelValue:t.value.mobile_no,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.mobile_no=l),placeholder:"Enter Mobile Number",size:"sm"},null,8,["modelValue"]),n(s(m),{type:"email",label:"Email ID",modelValue:t.value.email_id,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.email_id=l),placeholder:"Enter Email ID",size:"sm"},null,8,["modelValue"]),n(s(m),{type:"autocomplete",label:"Gender",modelValue:t.value.gender,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.gender=l),options:s(O),placeholder:"Select Gender",size:"sm"},null,8,["modelValue","options"]),n(s(m),{type:"autocomplete",label:"Customer Group",modelValue:t.value.customer_group,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.customer_group=l),options:s(S),placeholder:"Select Customer Group",size:"sm"},null,8,["modelValue","options"]),n(s(m),{type:"autocomplete",label:"Territory",modelValue:t.value.territory,"onUpdate:modelValue":e[5]||(e[5]=l=>t.value.territory=l),options:s(T),placeholder:"Select Territory",size:"sm"},null,8,["modelValue","options"])])]),actions:d(()=>[n(s(G),{variant:"solid",onClick:h},{default:d(()=>[q]),_:1}),n(s(G),{class:"ml-2",onClick:i},{default:d(()=>[F]),_:1})]),_:1},8,["modelValue"]))}};export{K as default};
